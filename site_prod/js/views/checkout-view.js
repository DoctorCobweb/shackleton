define(["backbone","text!tpl/CheckoutView.html"],function(e,t){var n=e.View.extend({tagName:"div",className:"checkoutDetails",template:_.template(t),events:{"click #import_passbook_pass":"importPassbookPass"},initialize:function(){console.log("in initialize() of checkout-view.js"),console.log("is newOrder present? : "+JSON.stringify(this.model,null,4)),console.log("window.navigator.userAgent: "+window.navigator.userAgent),this.theUserAgent=this.findTheUserAgent(),console.log("theUserAgent is: "+this.theUserAgent),this.listenTo(this.model,"change",this.updateHandler)},render:function(){return console.log("in checkout-view.js and render()"),this.$el.html(this.template(this.model.toJSON())),this.theUserAgent==="iPhone/Safari/Mobile"&&(console.log("the user-agent is iPhone/Safari/Mobile. display pkpass link"),console.log(this.$el),console.log(this.$("#import_passbook_pass")),this.$("#import_passbook_pass").css("display","block")),this},updateHandler:function(){console.log("in updateHandler() since this.model emitted a 'change' event");if(this.model.get("transaction_status")==="submitted_for_settlement"&&this.model.get("user_authenticated")===!0){console.log("submitted_for_settlement and user __IS__ authorized."),this.render();return}switch(this.model.get("transaction_status")){case"authorized":console.log("switch block and transaction_status: authorized"),this.render();break;case"authorization_expired":console.log("switch block and transaction_status: authorization_expired"),this.render();break;case"processor_declined":console.log("switch block and transaction_status: processor_declined"),this.render();break;case"gateway_rejected":console.log("switch block and transaction_status: gateway_rejected"),this.render();break;case"failed":console.log("switch block and transaction_status: failed"),this.render();break;case"void":console.log("switch block and transaction_status: void"),this.render();break;case"submitted_for_settlement":console.log("switch block and transaction_status: submitted_for_settlement"),this.render();break;case"settling":console.log("switch block and transaction_status: settling"),this.render();break;case"settled":console.log("switch block and transaction_status: settled"),this.render();break;default:console.log("switch block and in default handler"),this.render()}return},findTheUserAgent:function(){var e=window.navigator.userAgent,t="";return e.search(/macintosh/i)!==-1&&e.search(/chrome/i)!==-1?t="Macintosh/Chrome":e.search(/macintosh/i)!==-1&&e.search(/firefox/i)!==-1?t="Macintosh/Firefox":e.search(/macintosh/i)!==-1&&e.search(/safari/i)!==-1?t="Macintosh/Safari":e.search(/iphone/i)!==-1&&e.search(/chrome/i)!==-1&&e.search(/mobile/i)!==-1?t="iPhone/Chrome/Mobile":e.search(/iphone/i)!==-1&&e.search(/firefox/i)!==-1&&e.search(/mobile/i)!==-1?t="iPhone/Firefox/Mobile":e.search(/iphone/i)!==-1&&e.search(/safari/i)!==-1&&e.search(/mobile/i)!==-1?t="iPhone/Safari/Mobile":e.search(/ipad/i)!==-1&&e.search(/chrome/i)!==-1&&e.search(/mobile/i)!==-1?t="iPad/Chrome/Mobile":e.search(/ipad/i)!==-1&&e.search(/firefox/i)!==-1&&e.search(/mobile/i)!==-1?t="iPad/Firefox/Mobile":e.search(/ipad/i)!==-1&&e.search(/safari/i)!==-1&&e.search(/mobile/i)!==-1?t="iPad/Safari/Mobile":t="unable_to_determine_user_agent_extracted",t},importPassbookPass:function(){console.log("in importPassbookPass handler")}});return n});