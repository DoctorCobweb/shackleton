define(["backbone","text!tpl/BetaLoginView.html","views/real-front-page-view","views/header-view","views/banner-view"],function(e,t,n,r,i){var s=e.View.extend({tagName:"div",className:"view_beta_login_details col-md-12",template:_.template(t),events:{"keypress #username":"beta_username_update","keypress #password":"beta_password_update","blur #username":"beta_username_blur","blur #password":"beta_password_blur","click #login":"login"},initialize:function(){console.log("in initialize() of beta-login-view.js"),this.ENTER_KEY=13},render:function(){return console.log("in beta-login-view.js and render()"),this.$el.html(this.template()),this.$username=this.$("#username"),this.$password=this.$("#password"),console.dir(this.$username),console.dir(this.$password),console.dir(this),this.field_to_set={},this},beta_username_update:function(e){console.log("beta_email_address_update")},beta_password_update:function(e){console.log("beta_password_update"),e.which===this.ENTER_KEY&&(this.close_input_field(this.$password,"password"),this.login())},beta_username_blur:function(e){console.log("beta_username_blur"),this.close_input_field(this.$username,"username");return},beta_password_blur:function(e){console.log("beta_password_blur"),this.close_input_field(this.$password,"password");return},close_input_field:function(e,t){console.log("close_input_field"),console.dir(e),console.log("model_attribute: "+t);var n=e.val().trim();this.field_to_set[t]=n,console.dir(this.field_to_set)},login:function(){console.log("in login event handler"),console.dir(this.field_to_set);var e=this;$.ajax({url:"/api/users/beta_login",type:"POST",data:e.field_to_set,success:function(t,s,o){console.log("SUCCESS: POST /api/users/beta_login"),console.dir(t),console.log(s),console.dir(o);if(t.beta_user_authenticated){e.options.router_ref.test_router_ref();var u=new n;e.options.router_ref.change_private_beta(!1),console.log("changed this.current_view to: "),console.log(e.show_view("body",u)),new r,new i,e.options.router_ref.navigate("#/",{trigger:!0})}else e.render()},error:function(t,n,r){console.log("ERROR: POST /api/users/beta_login"),console.dir(t),console.log(n),console.dir(r),e.render()}})},show_view:function(e,t){return console.log("in show_view()"),this.current_view&&this.current_view.close(),$(e).html(t.render().el),this.current_view=t,t}});return s});