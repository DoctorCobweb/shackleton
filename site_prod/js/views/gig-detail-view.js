define(["backbone","text!tpl/GigDetails.html","./number-of-tickets-view","models/order-model","collections/ordersCollection","views/login-with-gig-details-view"],function(e,t,n,r,i,s){var o=e.View.extend({tagName:"div",className:"gigDetails",template:_.template(t),events:{"click #get_tickets":"getTickets"},initialize:function(){console.log("in initialize() of gig-detail-view.js"),console.log("this.options: ");for(var e in this.options)console.log(this.options[e])},render:function(){return console.log("in gig-detail-view.js and render()"),this.$el.html(this.template(this.model.toJSON())),console.log("this.model: "),console.dir(this.model),this.currentView=this,this},getTickets:function(){console.log("in getTickets click handler.");var e=this;$.ajax({url:"/api/users/session",type:"GET",success:function(t,r,i){console.log("SUCCESS: got $.ajax GET /api/users/session"),console.dir(t),console.log("textStatus: "+r),console.dir(i);if(!t.user_authenticated){var o=new s({model:e.model});e.showView("#featureContent",o)}else if(t.user_authenticated===!0){var u=new n({model:e.model});e.showView("#featureContent",u),window.scrollTo(0,350)}},error:function(e,t,n){console.log("ERROR: tried to $.ajax GET /api/users/session"),console.dir(e),console.log("textStatus: "+t),console.log("errorThrown: "+n)}})},showView:function(e,t){return console.log("in showView in gig-detail-view.js"),this.currentView&&this.currentView.close(),$(e).html(t.render().el),this.currentView=t,t}});return o});